# 2월 7일 (목)

### [오늘 한 일]



- 네이버 플레이스 초기 페이지에서 맛집 리스트를 자동으로 바꾸며 각 리스트마다 크롤링 성공!
  - 초기 시도: 루프로 url을 변경해 배열에 저장, 배열을 돌며 link를 뽑아내고 해당 link로 다시 루프를 돌려고 하였으나 역시 원인불명의 에러발생
  - 해결: 루프의 분리 → url 변경해 link  배열을 뽑는것까지 루프 하나, link 배열을 돌며 가게 이름과 메뉴를 뽑아내는 것 루프 하나로 분리

- 맛집 리스트 3번째 페이지부터 특정 div 크롤링 오류

  - 해결: 리스트 중 해당 div를 가지고 있지 않은 리스트가 존재 → try, catch를 사용해 div가 존재하지 않는 경우 넘김

- 크롤링 특정 횟수 이후로 원인불명의 에러 발생
  - 동일 페이지의 전환 횟수 제한 추측 중 혹은 시간 텀을 두어야한다고 추측 중
  - 해결: 페이지 전환마다 페이지 종료 후 새로 띄우는 방식으로 해결! 

- 크롤링 후반부에 time out 에러 발생

  - 해결: 페이지 전환마다 { timeout: 0} 옵션을 주어 해결!

  

- 데이터베이스를 mySQL에서 mongoDB로 변경

  - 유동적인 데이터가 많음

  - node에서 mongoDB를 사용하기 위해 mongoose 사용

  - mongoDB사이트에서 Try Free-Server-Community Server를 msi package로 다운!

    (zip으로 다운시 설치x)

  - 환경변수를 설정

    - 사용자 변수: 컴퓨터 전체에서 사용하는 환경변수를 설정
    - 시스템 변수: 해당 계정에서 사용하는 환경변수를 설정
    - C:\Program Files\MongoDB\Server\4.0로 설정했는데 계속 에러 → bin까지 포함!

  - cmd에서 mongo 명령어로 실행

- mongoDB 기본 명령어와 mongoose 사용법 숙지
